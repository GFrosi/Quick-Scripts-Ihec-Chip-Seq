# Quick-Scripts-Ihec-Chip-Seq

##Scripts to facilitate the processing of inputs/outputs generated by ihec-chip-seq-pipeline and general tables as well

### Create_sym_link_bai.py

1. This program receives a list of files (including the root path), a list of numbers (fragment length) and a string to generate symlinks with a new name.

- To run this script:

```python create_sym_link_bai.py list_of_path.txt list_of_frag_len.txt merged.bam 
```

### srr-fraglen-dict-inputs.py

2. This script generates a csv file with the SRR and fragment length for each sample (srr) analyzed with all and corresponding inputs by the IHEC pipeline. The output will have three columns: SRR, frag all and frag cctrl. Save this file into a csv file and load on jupyter to get the GSM information by merge.

- To run this script:

```python srr-fraglen-dict-inputs.py list_of_paths_to_SRR_files_allinputs list_of_frag_len_allinputs list_of_paths_to_SRR_files_cctrl list_of_frag_len_cctrl > output.csv 
```

### rawBW-prepare-run-xcorr.py

3. To run this script you should pass a list of bam files, list of fragment length and a string (suffix file). This script generates the run.sh files to be submitted to HPC. The program to be used is postprocess.sh. This program generates the rawBW files from bam files. The postprocess.sh could be downloaded in https://github.com/IHEC/integrative_analysis_chip/tree/dev-organize-output/encode-wrapper/postprocess'''

- If you do not want a new file name (just keep the original file name) you should to comment the follow lines:

'''suffix = sys.argv[3]
fn = fn.replace(suffix,'')
fn = fn + '-frag-' + fraglen + suffix'''

- To run this script:

```python rawBW-prepare-run-xcorr.py list_of_bam_files.txt list_of_frag_len suffix_name > run.sh 
```

If you do not want a new file name: (do not use the suffix_name argument)

```python rawBW-prepare-run-xcorr.py list_of_bam_files.txt list_of_frag_len > run.sh
```

### rawBW-prepare-run.py

4. To run this script you should pass a list of bam files as the first argument and the fragment length number (for controls is suggested 200). The script will print a .sh file to generate the rawBW files and the .md5 checksum for each sample.

- To run this script:

```python rawBW-prepare-run.py list_of_bam_files.txt 200 > run.sh
```


### get_md5_to_dup_ctl.py

5. This script prints a .sh file to copy the desired bigwig files to a dest path with their md5 check sum in the name.

- To run this script:

```
python get_md5_to_dup_ctl.py list_ori_files.txt path_to_dest > run.sh
```